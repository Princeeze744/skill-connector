<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Global Skill Connector</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body class="dashboard-page">

    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-left">
            <span class="logo-small">ğŸŒ</span>
            <h2>Global Skill Connector</h2>
        </div>
        <div class="nav-right">
            <button class="btn-icon" onclick="toggleDarkMode()" title="Toggle Dark Mode">
                ğŸŒ™
            </button>
            <div class="admin-profile">
                <span id="admin-name">Admin</span>
                <span class="admin-role" id="admin-role">Super Admin</span>
            </div>
            <button class="btn-danger-small" onclick="logout()">
                ğŸšª Logout
            </button>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="dashboard-container">
        
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="#" class="menu-item active" data-section="overview" onclick="switchSection('overview')">
                    <span class="menu-icon">ğŸ“Š</span>
                    <span>Overview</span>
                </a>
                <a href="#" class="menu-item" data-section="users" onclick="switchSection('users')">
                    <span class="menu-icon">ğŸ‘¥</span>
                    <span>Users</span>
                </a>
                <a href="#" class="menu-item" data-section="skills" onclick="switchSection('skills')">
                    <span class="menu-icon">ğŸ’¼</span>
                    <span>Skills</span>
                </a>
                <a href="#" class="menu-item" data-section="categories" onclick="switchSection('categories')">
                    <span class="menu-icon">ğŸ“‹</span>
                    <span>Categories</span>
                </a>
                <a href="#" class="menu-item" data-section="activity" onclick="switchSection('activity')">
                    <span class="menu-icon">ğŸ“œ</span>
                    <span>Activity Logs</span>
                </a>
                <a href="#" class="menu-item" data-section="admins" onclick="switchSection('admins')">
                    <span class="menu-icon">ğŸ‘”</span>
                    <span>Admins</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Overview Section -->
            <section id="overview-section" class="content-section active">
                <div class="section-header">
                    <h1>Dashboard Overview</h1>
                    <button class="btn-primary" onclick="refreshStats()">ğŸ”„ Refresh</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-details">
                            <h3 id="stat-total-users">0</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-details">
                            <h3 id="stat-active-users">0</h3>
                            <p>Active Users</p>
                        </div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-icon">ğŸ’¼</div>
                        <div class="stat-details">
                            <h3 id="stat-total-skills">0</h3>
                            <p>Total Skills</p>
                        </div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-icon">ğŸ‘”</div>
                        <div class="stat-details">
                            <h3 id="stat-total-admins">0</h3>
                            <p>Admin Accounts</p>
                        </div>
                    </div>
                </div>

                <div class="welcome-card">
                    <h2>ğŸ‰ Welcome to Your Admin Dashboard!</h2>
                    <p>You have full control over the platform. Here's what you can do:</p>
                    <ul>
                        <li>âœ… Create, edit, and delete user accounts</li>
                        <li>âœ… Manage all skills across the platform</li>
                        <li>âœ… View activity logs for audit trail</li>
                        <li>âœ… Manage admin accounts (Super Admin only)</li>
                        <li>âœ… Export data and generate reports</li>
                    </ul>
                    <p class="api-status">ğŸŸ¢ API Status: <strong>Connected</strong></p>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users-section" class="content-section">
                <div class="section-header">
                    <h1>User Management</h1>
                    <div class="header-actions">
                        <input type="text" id="user-search" placeholder="ğŸ” Search users..." class="search-input">
                        <button class="btn-success" onclick="openCreateUserModal()">â• Add User</button>
                        <button class="btn-primary" onclick="loadUsers()">ğŸ”„ Refresh</button>
                    </div>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Email</th>
                                <th>Full Name</th>
                                <th>Phone</th>
                                <th>Created</th>
                                <th>Profile %</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <tr>
                                <td colspan="7" class="loading">Loading users...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Skills Section -->
            <section id="skills-section" class="content-section">
                <div class="section-header">
                    <h1>Skills Overview</h1>
                    <button class="btn-primary" onclick="loadAllSkills()">ğŸ”„ Refresh</button>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Skill Name</th>
                                <th>Category</th>
                                <th>Experience</th>
                                <th>Rate</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="skills-table-body">
                            <tr>
                                <td colspan="6" class="loading">Loading skills...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Categories Section -->
            <section id="categories-section" class="content-section">
                <div class="section-header">
                    <h1>Skill Categories</h1>
                    <button class="btn-primary" onclick="loadCategories()">ğŸ”„ Refresh</button>
                </div>

                <div class="categories-grid" id="categories-grid">
                    <div class="loading">Loading categories...</div>
                </div>
            </section>

            <!-- Activity Logs Section -->
            <section id="activity-section" class="content-section">
                <div class="section-header">
                    <h1>Activity Logs</h1>
                    <button class="btn-primary" onclick="loadActivityLogs()">ğŸ”„ Refresh</button>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Admin</th>
                                <th>Action</th>
                                <th>Target</th>
                                <th>Details</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="activity-table-body">
                            <tr>
                                <td colspan="5" class="loading">Loading activity logs...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Admins Section -->
            <section id="admins-section" class="content-section">
                <div class="section-header">
                    <h1>Admin Management</h1>
                    <div class="header-actions">
                        <button class="btn-success" onclick="openCreateAdminModal()">â• Add Admin</button>
                        <button class="btn-primary" onclick="loadAdmins()">ğŸ”„ Refresh</button>
                    </div>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Email</th>
                                <th>Full Name</th>
                                <th>Role</th>
                                <th>Last Login</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admins-table-body">
                            <tr>
                                <td colspan="6" class="loading">Loading admins...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

        </main>
    </div>

    <!-- Create User Modal -->
    <div id="create-user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>â• Create New User</h2>
                <button class="close-btn" onclick="closeCreateUserModal()">âœ•</button>
            </div>
            <form id="create-user-form" class="modal-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" name="full_name" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Password *</label>
                        <input type="password" name="password" minlength="8" required>
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="tel" name="phone">
                    </div>
                </div>
                <div class="form-group">
                    <label>Bio</label>
                    <textarea name="bio" rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Latitude</label>
                        <input type="number" name="latitude" step="0.000001" min="-90" max="90">
                    </div>
                    <div class="form-group">
                        <label>Longitude</label>
                        <input type="number" name="longitude" step="0.000001" min="-180" max="180">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeCreateUserModal()">Cancel</button>
                    <button type="submit" class="btn-success">Create User</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Admin Modal -->
    <div id="create-admin-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>â• Create New Admin</h2>
                <button class="close-btn" onclick="closeCreateAdminModal()">âœ•</button>
            </div>
            <form id="create-admin-form" class="modal-form">
                <div class="form-group">
                    <label>Email *</label>
                    <input type="email" name="email" required>
                </div>
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" name="full_name" required>
                </div>
                <div class="form-group">
                    <label>Password *</label>
                    <input type="password" name="password" minlength="8" required>
                </div>
                <div class="form-group">
                    <label>Role *</label>
                    <select name="role" required>
                        <option value="admin">Admin</option>
                        <option value="super_admin">Super Admin</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeCreateAdminModal()">Cancel</button>
                    <button type="submit" class="btn-success">Create Admin</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin-dashboard.js"></script>
</body>
</html>